services:
  - type: web
    name: secureattend-backend
    env: node
    rootDir: backend
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 5000
      # PostgreSQL connection string (recommended)
      # Get this from your Render PostgreSQL database's "Internal Database URL"
      - key: DATABASE_URL
        sync: false
      # JWT secret for authentication
      - key: JWT_SECRET
        generateValue: true
      # Your Vercel frontend URL (update this!)
      - key: FRONTEND_URL
        value: https://secureattend-2-0.vercel.app
      
      # ALTERNATIVE: If using external MySQL instead of PostgreSQL
      # Uncomment these and remove DATABASE_URL above:
      # - key: DB_DIALECT
      #   value: mysql
      # - key: DB_HOST
      #   value: your-mysql-host.com
      # - key: DB_NAME
      #   value: secureattend_db
      # - key: DB_USER
      #   value: your-username
      # - key: DB_PASS
      #   value: your-password
